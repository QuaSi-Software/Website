---
layout: entry
title: "Release of new ReSiE version 0.11.0"
date: 2025-03-31 12:00:00 +0200
categories: release
excerpt_separator: <!--more-->
---

We have released version 0.11.0 of our energy system simulation engine ReSiE. This release introduces a new CLI for performing simulations with ReSiE, which provides more information on the progress of a run, as well as improved performance when multiple runs are performed in succession. Another focus of the release are updates to the energy system component models, implementing detailed models for heat pumps, geothermal collectors and short-term thermal energy storage (STTES) also called buffer tanks. In addition, working with external profile data, for example weather files, has been improved.

The latest release can be found [here](https://github.com/QuaSi-Software/resie/releases) and details are available on [the documentation of the QuaSi-Projekt](https://quasi-software.readthedocs.io).

<!--more-->

## Key Features

#### New CLI
The CLI of ReSiE, and how simulations are performed with it, has been restructured. Instead of a single call to the CLI script, that runs the simulation and then returns to the shell, it now puts the user into an interactive CLI that keeps prompting for commands until exited. This has the advantage that performing multiple runs without changing the code results in a significant performance boost for runs after the first one, as the code does not have be compiled again and is reused.

The interactive part can be circumvented by adding the command and associated arguments to the call starting the CLI. An optional argument --exit-after-run will exit the CLI after the simulation is done. Additional output during a simulation has also been added to make it clearer in what state the simulation currently is in.

**Note: This is a breaking change**, as the previous command to run a simulation, e.g. julia --project=. src/resie-cli.jl examples/simple_heat_pump.json, no longer works. With the new CLI a single simulation run with no interactive part now looks like this: julia --project=. src/resie-cli.jl run --exit-after-run examples/simple_heat_pump.json. Please update any scripts or automated processes to reflect these changes.

#### More detailed component models
The models for energy system components of several types have been extended in more detail, as described in the documentation.

##### Heat Pump
The model has been extended to include several effects that affect how the heat pump operates:

* Calculation of the COP as a customisable function of the source and sink temperatures
* Customisable temperature-dependent minimum/maximum power functions
* Part load ratio (PLR) dependent efficiency as customisable function modifying the COP depending on the PLR
* Optimisation of the PLR if the heat pump is not working under full load. This is a useful feature for inverter heat pumps, that typically work most efficiently at a PLR of less than 100%. Note: this optimisation could be improved and does not always calculate the true optimum. There also known problems where activating this feature will lead to energy balances not quite working out. Hopefully this will be fixed in future updates.
* Handling multiple combinations of input and output (so-called "slices") in each timestep. For example a heat pump can supply both room heating and domestic hot water (DHW) demands at the same time, calculating each with a different COP and power
* Losses of power and heat input that are not included in the heat output as these represent true losses to the environment, as compared to losses of efficiency, which are included in the COP function.
* More output channels to make it easier to understand how the heat pump works

##### Buffer tank / STTES
Three different models have been made available, each with and without losses:
* ideally stratified: Supplies energy consistently at "high_temperature". Losses reduce energy but do not affect temperature.
* ideally mixed: Fully mixed model, with temperature output depending on the current load. Losses decrease both energy and temperature.
* balanced: Combines both models. A full tank behaves as ideally stratified, transitioning to ideally mixed as the tank empties.

##### Geothermal collector
Finalisation of the model, successfully validated agains TRNSYS and DELPHIN:

* Revision of the entire model, including bug fixed and improvements
* Add automatic generation of the numerical grid
* Add time-shiftable plot of the temperature distribution (requires GLMakie package, activate with auxiliary_plots)
* Add scenario using the geothermal collector

#### Profiles and interpolation/segmentation
Especially for weather profiles and other externally given data, new functionality has been implemented for profiles:

* Add the possibility to output the weather data from EPW and dat-files to the lineplot and CSV output
* Add two more interpolation methods for segmentation of data: "stepwise", "linear_classic", "linear_time_preserving", "linear_solar_radiation"
* The time zone can now be specified in the simulation_parameters to overwrite the time zone provided by the weather file


## Other changes

* New control module "temperature_sorting", which enables sorting the inputs or outputs of a heat pump by temperature. This can be used to override a static order, derived from priorities on a bus, with an order that chooses the highest or lowest temperature first.
* Add workaround for storage_driven control module not recognizing a full storage if losses are activated. This can be done cleaner in the future.
* Add the possibility to create optional figures at the end of the simulation period
* Update installation instructions for ReSiE
* Bugfix for order of operation not determining middle busses with grids correctly
* Bugfix in grid (sink) setting wrong min/max temperature in control

